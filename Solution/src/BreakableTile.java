//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : BreakableTile.java
//  @ Date : 2019.03.20.
//  @ Author : 
//
//

/**
 * A torekeny csempe viselkedeset megvalosito osztaly.
 *
 * @author Konczos
 */


public class BreakableTile extends Tile {
    /**
     * A csempe elettartamat tarolo int.
     */
    private int health;
    /**
     * A csempe allapotat(torott/ep) jelzo boolean.
     */
    private boolean broken;

    /**
     * Getter fuggveny a health valtozohoz.
     *
     * @return A health valtozo, azaz a csempe elete.
     */
    public int getHealth() {
        GameLogic.indent(true);
        System.out.println(">   BreakableTile::getHealth()");

        GameLogic.indent(false);
        System.out.println("<   BreakableTile::getHealth()");
        return health;
    }

    /**
     * Getter fuggveny a broken valtozohoz.
     *
     * @return A broken valtozo, azaz, hogy torott e a csempe.
     */
    public boolean isBroken() {
        GameLogic.indent(true);
        System.out.println(">   BreakableTile::isBroken()");

        GameLogic.indent(false);
        System.out.println("<   BreakableTile::isBroken()");
        return broken;
    }

    /**
     * Setter fuggveny a health valtozohoz.
     *
     * @param newHealth Az health valtozo uj erteke.
     */
    @Override
    public void setHealth(int newHealth) {
        GameLogic.indent(true);
        System.out.println(">   BreakableTile::setHealth(int newHealth)");

        health = newHealth;

        GameLogic.indent(false);
        System.out.println("<   BreakableTile::setHealth(int newHealth)");

    }

    /**
     * Setter fuggveny a broken valtozohoz.
     *
     * @param newBroken A broken valtozo uj erteke.
     */
    public void setBroken(boolean newBroken) {
        GameLogic.indent(true);
        System.out.println(">   BreakableTile::setBroken(boolean newBroken)");

        broken = newBroken;

        GameLogic.indent(false);
        System.out.println("<   BreakableTile::setBroken(boolean newBroken)");
        return;

    }

    /**
     * A fuggveny egyel csökkenti a törékeny csempe elettartamat.
     */
    @Override
    public void decreaseHealth() {
        GameLogic.indent(true);
        System.out.println(">   BreakableTile::decreaseHealth()");

        health--;
        if (health <= 0) {
            broken = true;
            localAnimal.die();
        }
        GameLogic.indent(false);
        System.out.println("<   BreakableTile::decreaseHealth()");
        return;
    }

    /**
     * Amennyiben az allat a csempere akar lepni, ez a fuggveny hivodik meg.
     *
     * @param a Az allat, amely a csempere akar lepni.
     */
    public void receive(Animal a) {
        GameLogic.indent(true);
        System.out.println(">   BreakableTile::receive (Animal a)");

        //ez a sor az else agba kene legyen
        //a.getTile().remove();

        a.getTile().remove();
        localAnimal = a;
        decreaseHealth();

        if (broken) {
            a.die();
            this.remove();
            a.setTile(null);
        } else {
            localAnimal.setTile(this);
        }

        GameLogic.indent(false);
        System.out.println("<   BreakableTile::receive (Animal a)");
        return;
    }
}
